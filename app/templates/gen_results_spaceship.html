<div class="container">
  <div class="section">
    {% if error %}
    <div class="error" style="margin-bottom: 1rem;">
      {{ error }}
    </div>
    {% endif %}
    <div class="text-center mb-4">
      <h2 style="font-size: 2rem; font-weight: 800; color: white;">âœ¨ Your AIâ€‘Crafted Draft</h2>
      <p style="color: rgba(255, 255, 255, 0.8);">A clear, compelling post designed to spark conversations. Polish, make it yours, and share with confidence.</p>
    </div>
    
    {% for v in variants %}
    <div class="card" style="margin-bottom: 1.5rem;">
      <div class="card-header">
        <h3 style="color: white; font-size: 1.3rem; font-weight: 700;">Draft</h3>
      </div>
      
      <div class="generated-content">{{ v | replace('\n\n', '<br/><br/>') | replace('\n', '<br/>') | safe }}</div>
      
      <div class="text-center mt-3">
        <button class="btn btn-copy" onclick="copyToClipboard(this, `{{ v|replace('`', '\\`')|replace('\\', '\\\\')|replace('\n', '\\n') }}`)">
          ðŸ“‹ Copy to Clipboard
        </button>
      </div>
    </div>
    {% endfor %}
    
    <div class="text-center">
      <a href="/generate" class="btn btn-secondary">ðŸ”„ Generate More Posts</a>
      <a href="/news" class="btn" style="margin-left: 1rem;">ðŸ“° Browse Articles</a>
    </div>
  </div>
</div>

<script>
function copyToClipboard(button, text) {
  navigator.clipboard.writeText(text).then(function() {
    const originalText = button.innerHTML;
    button.innerHTML = 'âœ… Copied!';
    button.style.background = 'linear-gradient(135deg, #10b981, #059669)';
    
    setTimeout(() => {
      button.innerHTML = originalText;
      button.style.background = '';
    }, 2000);
    
    // Show notification
    showNotification('Post copied to clipboard!', 'success');
  }).catch(function(err) {
    console.error('Failed to copy text: ', err);
    showNotification('Failed to copy text', 'error');
  });
}
</script>
